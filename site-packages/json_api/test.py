from josn_api.containers import Container
from josn_api.fields import String, List, Enum, Set, Integer
from josn_api.conditions import InRange, In
from josn_api.logic_opt import AllOf, Grouping, Not

import enum


class Deee(enum.Enum):
    aaaa = 'abc'
    cccc = 'de0g'
    dddd = 'fad'


class Test(Container):
    name = String
    deee = Set(Enum(Deee))
    cdee = Integer


class Test2(Container):
    id = String(condition=Grouping(InRange(min_val=3, max_val=6), Not(In('1111', '2222'))))
    test1 = Test


test = Test2()

data = {'id': '12234', 'test1': {'name': 'k3', 'deee': ['aaaa', 'cccc'], 'cdee': 5}}
print(test.schema)
test.process_input(data)
print(test._data)
print(test.test1.deee)
